'use client';

import { ArrowUpRight, TrendingUp } from 'lucide-react';
import { motion } from 'framer-motion';

export const TurnoverWidget = () => {
  return (
    <motion.div 
      initial={{ opacity: 0, y: 15 }}
      animate={{ opacity: 1, y: 0 }}
      // Ограничиваем ширину до 343px, p-6 задает одинаковый отступ со всех сторон
      className="relative overflow-hidden w-full max-w-[343px] mx-auto h-[136px] bg-[#573DEB] rounded-[32px] p-6 text-white shadow-[0_20px_40px_-10px_rgba(87,61,235,0.4)] flex flex-col"
    >
      {/* WAVES BACKGROUND */}
      <div className="absolute inset-0 pointer-events-none select-none">
        <svg 
          width="100%" 
          height="100%" 
          viewBox="0 0 343 136" 
          preserveAspectRatio="xMidYMid slice"
          fill="none" 
          xmlns="http://www.w3.org/2000/svg"
          className="opacity-40 mix-blend-soft-light"
          aria-hidden="true"
        >
          <path 
            fillRule="evenodd" 
            clipRule="evenodd" 
            d="M-19 -25.0228C-11.3017 -17.6042 -8.15458 -9.6302 -14.2011 2.2258C-15.6561 5.0962 -17.2927 7.629 -19 9.9422V-25.0228ZM-18.8182 -40H-8.40408C4.43769 -31.39 12.9925 -23.0468 10.7604 -8.5872C7.3773 13.2746 -18.0422 24.5114 -17.6407 48.3102C-17.3632 64.103 -17.0289 72.5326 -19 80.1928V28.5262C-10.9692 16.3092 1.80249 6.719 3.85435 -8.0066C5.93445 -22.9916 -5.09003 -31.2644 -18.8182 -40ZM10.5127 -40H19.0136C25.4061 -33.703 29.3037 -26.6772 29.1917 -17.0168C28.9412 7.6836 -2.24552 24.974 2.09356 44.9302C4.50812 55.0062 9.67865 62.456 13.4523 71.897C17.5707 82.2236 8.04122 86.0346 -0.818989 94.3856C-6.42086 99.6718 -13.0774 106.031 -19 112.735V104.917C-15.532 100.84 -12.1359 96.8796 -9.2216 93.108C8.90391 69.561 1.02655 70.8144 -3.27374 47.8634C-4.43764 41.6448 -4.0063 37.0342 -1.20696 30.9572C5.85109 16.8814 18.6242 7.4252 22.5636 -8.3438C25.9731 -21.988 21.0103 -31.1626 10.5127 -40ZM32.9906 -40H39.0089C44.3762 -30.7392 45.249 -20.9768 40.0488 -8.1948C35.6678 2.5714 27.0702 12.5298 20.191 22.8488C10.483 37.6144 13.6865 46.64 25.2121 60.621C35.7917 72.4698 43.5869 75.646 57.2462 85.423C70.7672 95.084 51.6016 96.3548 37.7765 99.2082C15.5593 103.788 0.859823 111.394 -10.442 123.155C-22.9093 136.142 -23.2002 149.308 0.430071 157.91C25.308 166.573 32.5059 167.202 39.6746 176H33.4074C32.9629 175.6 32.533 175.239 32.103 174.91C26.1838 170.417 18.5275 167.663 10.0262 164.975C-2.80101 161.023 -13.0909 157.44 -19 152.232V126.521C-12.3984 117.605 -0.707174 108.36 9.56942 102.447C19.4565 96.7462 35.9857 94.1596 41.1157 90.8738C47.7742 86.615 38.233 79.424 33.907 75.23C18.9716 60.7386 5.49157 47.0478 12.7866 29.6792C17.8483 18.7086 28.7339 8.0686 34.2401 -3.7956C40.2444 -17.2286 40.3831 -28.7396 32.9906 -40ZM49.3557 -40H54.8736C57.6342 -30.174 56.8433 -20.232 49.8943 -8.5712C44.2105 0.9636 37.7899 9.9736 31.5209 19.3518C22.286 33.2782 22.1593 40.6332 32.8937 54.2146C60.5607 85.5024 109.625 80.6326 115.366 88.4184C119.262 96.002 98.9873 101.028 88.9896 102.98C61.9335 107.882 29.2751 108.305 9.27695 122.083C-4.81208 131.774 -5.2285 142.791 13.7284 150.319C40.1193 160.404 44.5702 161.58 52.2398 176H48.2034C42.8932 167.696 36.2915 162.277 20.0669 156.498C-1.29052 149.206 -15.3382 142.477 -3.36924 127.562C8.32056 113.826 31.4238 107.881 56.0674 104.431C68.6736 102.666 120.705 96.7934 89.3776 86.4038C68.5616 79.495 58.4101 78.508 42.4917 67.1998C27.2505 56.3628 18.3467 43.605 23.1036 29.6706C31.7839 8.6008 56.5244 -10.4148 51.2687 -33.6094C50.7701 -35.7732 50.1303 -37.8982 49.3557 -40ZM65.3174 -40H71.6265C72.832 -28.8574 68.8389 -20.804 55.9003 -4.3062C50.7283 2.289 46.2621 9.3774 41.7692 16.1448C32.2835 30.4944 30.6465 38.6104 43.4061 52.482C58.1596 67.8902 82.7626 73.8264 112.662 71.176C130.689 69.5052 151.088 67.1608 149.923 81.9658C144.306 101.929 108.985 107.317 79.4334 111.355C61.7659 113.763 14.6576 120.797 20.8277 135.459C23.9897 142.979 41.9497 148.296 49.9375 156.066C56.2747 162.222 59.7127 168.943 62.5431 176H58.7577L58.6172 175.701C52.5426 161.689 47.9541 156.278 27.7769 147.246C7.16978 138.149 7.48732 129.46 27.9709 120.279C59.1455 106.948 105.491 112.069 132.74 94.732C143.668 87.7838 146.637 76.3668 124.503 75.3864L121.716 75.3088C101.067 75.199 88.1836 76.6718 68.9629 70.6118C42.3229 61.8052 26.3625 44.46 33.1846 27.091C39.1492 12.7412 51.6714 -1.0988 60.2549 -14.8758C65.4415 -23.2116 66.4663 -31.6018 65.3174 -40ZM85.4933 -40H93.842C93.578 -29.4458 84.5381 -22.388 74.4006 -12.6882C62.1139 -0.926201 52.5178 9.2366 46.4147 22.6996C41.3677 33.8664 44.3895 41.433 55.7212 50.9448C70.2117 62.095 89.9325 63.7972 111.926 58.3788C127.97 54.4262 144.597 49.6116 159.227 58.943C179.351 74.7116 166.454 93.9232 139.799 104.102C108.266 116.146 94.0646 112.743 65.0253 120.42C47.9127 124.944 40.2578 129.226 51.2402 139.364C64.4704 151.566 67.9378 163.791 71.3223 176H67.9933C63.8884 162.529 61.1279 153.204 44.1122 140.87C27.804 129.045 42.0203 123.102 62.0855 118.475C94.536 110.987 119.081 114.006 147.857 97.5378C157.884 91.806 161.294 86.615 163.25 78.766C164.206 73.4034 162.584 69.365 157.662 64.7768C142.185 51.6426 117.043 64.1106 96.1732 65.0434C67.2858 65.875 48.5515 54.3172 42.2557 39.2928C36.7211 23.9232 54.6796 3.2384 67.7307 -10.0138C77.8937 -20.3258 84.9683 -29.2964 85.4933 -40ZM110.803 -40H118.832C125.683 -23.407 106.351 -22.0112 89.0716 -11.3004C71.3354 -0.306801 59.6592 9.448 55.9287 24.6128C55.6629 25.6564 55.5674 26.5108 55.4689 27.5538C55.0394 39.567 69.5042 51.243 92.6483 48.2784C95.4657 47.9176 97.5725 47.4634 100.248 46.8908C124.074 41.2682 143.432 35.7792 165.649 47.9966C185.965 59.1778 185.855 75.5898 176.411 89.7126C164.22 107.121 121.482 116.444 93.0794 123.117C67.784 129.068 72.1812 135.003 75.7449 148.853C78.1291 158.097 78.8785 167.044 80.4718 175.999H77.2282C75.2734 166.7 74.2064 157.94 69.9057 147.833C66.8828 140.705 59.7276 130.817 71.0026 125.422C80.3767 120.929 107.64 118.059 121.661 114.178C139.634 109.213 163.001 101.106 171.542 90.5274C174.456 86.9056 175.856 83.6422 177.105 79.7548C177.52 78.3338 177.77 77.0242 178.02 75.5984C179.295 64.7218 173.013 53.5168 155.665 47.581C141.256 42.6558 126.029 45.0946 111.87 48.843C94.5079 53.6108 78.6862 57.1076 63.236 47.377C45.3344 34.7366 50.3945 21.6804 61.3368 7.8716C72.5133 -6.2584 85.9233 -12.7588 102.661 -23.9406C112.091 -30.2374 112.785 -34.4244 110.803 -40ZM134.307 -40H142.295C149.647 -26.983 144.474 -21.2118 122.465 -13.5506C102.052 -6.4462 78.7279 1.1206 72.4458 15.5486C67.2586 27.4518 75.5659 34.2664 97.8918 32.6274C117.958 31.1536 125.945 29.1376 147.094 31.7964C185.369 36.5952 197.974 59.9386 192.815 79.5506L192.427 81.0324C184.036 106.141 159.187 108.391 126.556 122.043C93.6351 135.812 93.5931 137.836 91.2355 160.505C90.7219 165.32 90.4311 170.614 90.8461 176H86.8395C85.4802 162.701 85.7428 141.968 90.5849 135.32C95.2853 128.873 108.943 125.902 119.164 122.216C137.72 115.527 171.515 105.247 181.098 94.1668C184.787 89.909 186.825 85.118 188.599 80.4996C193.286 64.6442 187.046 47.9502 162.154 38.4064C143.39 31.2088 120.76 33.9762 100.624 37.1596C83.3863 39.8808 68.7838 39.0968 65.5651 27.3424C62.7094 16.921 72.4025 5.8018 84.9531 -1.561C95.7687 -7.9044 104.132 -11.0962 117.071 -15.644C137.678 -22.89 140.853 -28.52 134.307 -40ZM158.951 -40H166.758C175.841 -29.3198 174.759 -26.1046 155.54 -15.927C141.34 -8.4068 127.304 -4.933 112.675 1.2692C98.0575 7.4802 91.8743 15.9564 114.824 19.054C124.878 20.4102 135.931 20.5984 146.9 22.0094C175.688 25.7264 188.31 33.8662 199.083 49.0002C205.116 57.484 206.323 65.7802 205.213 74.829L204.992 76.3356C199.389 99.6718 189.474 104.588 156.538 117.871C123.006 131.397 108.597 144.72 104.41 167.751C103.939 170.394 103.731 173.185 103.882 175.999H98.5995C98.4326 171.302 99.083 166.691 100.206 162.575C108.485 132.315 126.681 126.967 168.241 110.617C190.251 101.96 194.757 95.57 199.526 81.1892C204.312 64.2434 199.625 48.5842 179.018 35.4104C156.663 21.1232 131.826 25.6952 102.467 22.7626C72.9026 19.8138 92.1634 5.9272 106.129 -0.291401C124.392 -8.4072 153.197 -13.7708 161.504 -27.3208C164.109 -31.5858 162.128 -35.8678 158.951 -40ZM183.288 -40H191.485C199.041 -33.5698 207.544 -24.8974 197.558 -19.4792C192.025 -16.4916 178.782 -12.6334 171.182 -9.277C165.704 -6.8544 145.721 1.7788 149.894 6.1862C154.374 10.9376 173.096 14.2546 181.776 18.8104C200.068 28.4006 214.394 46.6472 216.099 60.6366C216.82 66.5804 216.182 72.3358 215.169 78.2478C213.548 87.1484 209.734 97.5076 200.36 104.862L199.096 105.85C175.605 123.368 151.697 123.847 132.561 147.935C126.61 155.4 120.704 166.424 122.313 175.999H115.24C114.506 170.11 116.002 163.947 118.609 158.686C127.222 141.301 140.492 130.95 165.565 120.004C194.396 107.419 204.977 101.098 211.148 80.1304C215.961 61.5464 210.4 47.8322 192.941 31.9448C170.988 11.965 141.393 16.8344 132.103 9.2438C126.153 4.398 145.277 -2.7538 151.337 -5.4352C160.74 -9.599 185.854 -19.0794 190.334 -24.6936C194.063 -29.351 188.85 -35.0048 183.288 -40ZM206.198 -40H213.035C217.792 -35.4516 222.422 -30.724 223.491 -29.3982C229.288 -22.2234 238.246 -8.673 221.398 -4.1254C208.556 -0.651802 196.851 -0.863602 201.844 10.0988C206.476 20.2844 213.965 27.6872 221.508 36.9716C232.741 50.7564 230.855 56.912 228.775 71.5606C227.236 82.6396 223.117 96.0648 213.284 105.803C192.512 125.422 142.019 141.262 148.73 167.241C149.633 170.714 151.49 173.6 153.945 175.999H140.799C130.301 158.599 154 138.313 174.871 126.59C199.874 112.546 210.221 109.411 219.345 88.9364C226.071 72.9948 229.691 53.8458 216.585 38.6806C208.069 28.824 199.055 19.3048 189.35 9.8164C178.172 -1.1222 185.549 -3.3962 204.382 -8.0616C223.282 -12.7354 225.113 -16.2328 218.042 -27.1722C214.686 -32.3858 210.678 -36.2206 206.198 -40ZM225.24 -40H231.241C244.64 -26.309 255.373 -11.504 257.12 4.2804C258.757 19.1008 235.333 14.4114 246.649 37.4024C248.549 41.253 249.492 43.1662 249.534 47.2436C249.035 54.6618 245.138 66.6664 242.907 74.2728C240.257 83.322 236.346 91.6652 230.897 100.298C220.592 116.374 193.537 128.701 179.683 143.31C168.921 154.663 171.779 164.018 192.442 170.259C200.554 172.714 206.365 174.219 211.704 176H188.42C181.347 173.232 174.51 170.378 172.07 168.747C150.824 154.584 183.33 133.899 199.695 123.195C220.274 109.731 227.971 101.2 234.515 83.7928C237.54 75.3548 238.911 65.9686 241.172 57.2882C245.595 39.3864 234.766 39.3084 228.872 24.668C221.272 5.8094 262.167 16.0654 243.113 -17.8712C238.746 -25.6426 232.366 -32.9426 225.24 -40ZM242.185 -40H247.552C259.853 -26.419 267.854 -14.8682 277.838 -0.125999C292.621 21.7038 295.036 22.0884 280.224 44.5696C273.358 55.0064 266.036 63.2006 260.393 74.1246C253.806 86.8658 247.288 101.255 234.918 112.632C224.434 121.957 190.596 143.058 197.059 153.793C204.09 165.453 248.342 162.176 267.076 176H250.616C229.787 163.445 193.261 168.801 189.225 154.294C185.66 141.512 221.259 120.607 232.797 108.987C247.898 93.1318 251.365 75.0416 261.738 58.5512C268.672 47.2828 271.792 36.9478 276.036 25.3658C280.418 13.4 270.35 -0.0789986 263.762 -11.4648C257.356 -22.5058 250.796 -30.88 242.185 -40ZM257.938 -40H263.097C275.759 -25.713 288.198 -11.2374 305.699 1.3316C321.632 12.7728 323.99 19.8614 316.128 33.9366C314.768 36.383 313.214 38.7354 311.593 41.127C304.118 52.0034 292.275 62.9184 283.205 73.6846C274.413 84.1136 265.399 94.8496 256.955 105.356C247.606 117.024 222.174 132.025 220.745 143.63C219.608 152.796 241.048 155.101 253.487 157.548C275.453 161.862 293.342 166.77 302.162 175.999H291.554C290.138 174.768 288.434 173.522 286.339 172.274C264.899 159.494 223.963 158.419 214.975 151.73C203.105 142.877 234.127 122.364 242.738 114.671C251.615 106.759 259.187 95.1548 265.773 86.2786C274.689 74.2256 281.347 64.902 292.539 53.2738C305.85 39.347 319.344 23.1386 303.063 8.1614C295.56 1.2618 289.542 -3.8124 282.831 -11.2066C274.094 -20.859 266.606 -30.3468 257.938 -40ZM273.789 -40H279.336C289.848 -29.0456 303.036 -18.381 319.567 -10.9164C340.922 -1.2634 347.426 7.0878 342.878 22.5978C341.741 26.456 340.062 30.1256 338.191 33.882C327.707 54.4968 307.862 73.0894 287.227 90.8888C280.405 96.7782 274.594 102.133 269.325 108.54C263.304 116.045 254.567 122.889 249.34 129.783C237.941 144.791 263.486 148.476 282.789 153.11C309.499 159.518 326.541 164.152 331.353 176H322.201C318.497 169.044 309.4 164.693 292.261 159.486C277.784 155.078 261.128 152.68 247.925 148.618C233.6 144.196 236.097 137.702 241.921 130.386C247.94 122.826 257.951 115.785 264.663 107.882C287.754 81.0252 326.597 53.2814 335.431 23.4138C342.295 -1.0908 318.054 -1.1534 297.184 -17.8398C289.556 -23.9404 281.236 -32.0408 273.789 -40ZM291.984 -40H299.569C308.056 -33.5618 318.457 -27.8382 328.011 -24.3174C347.869 -16.9852 358.174 -11.669 361.654 2.5008C361.973 3.8024 362.181 5.0564 362.361 6.3662C365.107 29.3884 342.683 63.5778 319.413 81.9656C300.166 97.1784 284.301 105.403 274.802 124.434C269.185 136.275 282 140.102 299.279 144.877C317.001 149.785 339.632 152.789 349.271 162.99L351.642 165.908C353.792 169.068 354.775 172.51 354.956 176H347.538C344.584 154.67 308.792 153.652 276.661 142.947C258.105 136.762 262.806 130.025 270.474 120.326C281.013 107.011 286.063 101.765 301.371 89.917C327.249 69.9132 340.701 55.9238 351.448 31.4904C359.353 13.212 363.124 -5.247 331.729 -17.2286C314.408 -23.831 306.822 -27.4772 294.895 -37.4672C293.954 -38.2592 292.982 -39.106 291.984 -40ZM317.181 -40H329.441C332.283 -38.651 335.098 -37.436 337.731 -36.385C344.112 -33.844 349.174 -31.7346 354.762 -28.6064C357.87 -26.7868 360.601 -24.858 363 -22.8584V-16.0992C360.089 -19.1804 356.454 -22.059 351.976 -24.6618C339.217 -31.7346 328.427 -33.703 317.181 -40ZM353.307 -40H362.584L363 -39.7252V-34.017C360.102 -36.0166 356.87 -38.008 353.307 -40ZM363 44.3656V56.5038C357.688 66.0552 350.7 75.629 341.714 82.6792C328.733 92.8648 316.348 98.087 305.837 110.108C288.018 132.322 322.811 134.7 348.411 145.301C354.402 147.888 359.215 150.57 363 153.369V160.647C355.138 151.386 338.967 145.951 317.652 140.243C291.233 133.178 284.911 126.897 297.074 111.3C312.397 92.3866 338.314 84.7416 352.807 62.0558C356.176 56.7864 359.783 50.78 363 44.3656ZM363 78.5782V87.5642C356.76 92.4258 349.397 95.594 339.59 104.345C321.951 120.09 344.458 127.611 363 137.553V142.996C345.735 133.255 324.988 127.312 321.674 119.314C316.405 106.627 350.672 91.6104 361.224 80.6474C361.821 80.0056 362.417 79.3068 363 78.5782ZM363 104.117V123.729C353.792 115.119 355.733 110.43 363 104.117ZM16.6693 176H3.91105C-4.71519 172.989 -12.467 170.456 -19 167.687V162.928C-10.7211 166.919 0.0972157 169.86 11.7182 173.914C13.4654 174.565 15.1162 175.262 16.6693 176Z" 
            fill="white" 
            fillOpacity={0.2}
          />
        </svg>
      </div>
      
      {/* Убираем h-full и justify-between.
          Используем flex-1 для блока с ценой, чтобы верх и низ имели симметричное пространство.
      */}
      <div className="relative z-10 flex flex-col h-full">
        {/* TOP ROW */}
        <div className="flex justify-between items-start mb-auto">
          <p className="text-white/60 text-[14px] leading-[20px] font-medium tracking-tight">
            Оборот за месяц
          </p>
          <button 
            type="button"
            aria-label="Подробнее"
            className="p-2 bg-white/20 hover:bg-white/30 rounded-full backdrop-blur-md transition-all active:scale-90 cursor-pointer"
          >
            <ArrowUpRight size={18} strokeWidth={2.5} />
          </button>
        </div>
        
        {/* MIDDLE & BOTTOM ROW (Flex-1 + mt-auto для прижатия к низу внутри p-6) */}
        <div className="flex flex-col gap-1 mt-auto">
          <h2 className="text-[38px] font-black leading-[100%] tracking-tight bg-gradient-to-b from-white to-white/60 bg-clip-text text-transparent">
            224 350 ₽
          </h2>
          
          <div className="flex items-center gap-1.5 w-fit h-[28px] px-2 pl-0.5 bg-white/10 rounded-full backdrop-blur-md border border-white/5 mt-0.5">
            <div className="w-[24px] h-[24px] bg-white rounded-full flex items-center justify-center shadow-sm">
               <TrendingUp size={14} strokeWidth={3} className="text-[#573DEB]" />
            </div>
            <span className="text-[13px] font-medium leading-[20px] tracking-tight pr-1">+8,3% за месяц</span>
          </div>
        </div>
      </div>
    </motion.div>
  );
};